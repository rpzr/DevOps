## **Part 1. Установка ОС**
Для вывода названия и версии установленной ОС используем команду:

     cat /etc/issue

![](https://i.ibb.co/kQrbXJb/Part-1.jpg)

## **Part 2. Создание пользователя**
Добавляем пользователя и выводим на экран:

    sudo useradd -g adm newuser
    groups newuser

![](https://i.ibb.co/R0Qtqcp/useradd.jpg)

    cat /etc/passwd

![Вывод пользователя](https://i.ibb.co/T4BsDb4/Part-2-2.jpg)

## **Part 3. Настройка сети ОС**
**1.** Задаем название машины вида user-1:

    hostnamectl set-hostname user-1

![TimeZone](https://i.ibb.co/Df114GN/hostname-User1.jpg)
    
**2.** Устанавливаем временную зону:

    sudo timedatectl set-timezone Europe/Moscow

![TimeZone](https://i.ibb.co/C9TqY9N/timezone.jpg)

**3.** Для вывода названий сетевых интерфейсов выполняем команду:

    ip -br link show

![enp0s3](https://i.ibb.co/q5fg1G1/ipshow.jpg)

> Интерфейс lo (сокращение от loopback) — это специальный сетевой интерфейс, который используется для проверки и отладки сетевых служб на локальном компьютере. Он не связан с каким-либо физическим сетевым устройством, а служит для отправки данных самим себе.
> 
> Пример использования: Если вы запустите веб-сервер на вашем компьютере
> и подключитесь к нему по адресу 127.0.0.1, соединение будет проходить
> через интерфейс lo. Это полезно для разработчиков, которые хотят
> тестировать сетевые приложения, не подключаясь к внешней сети.

**4.** Для вывода ip-адреса полученного от DHCP-сервера используем команду:

    ip route

   На выходе получаем IP-адрес, полученный от DHCP сервера - **10.0.2.15** 

**5.** Выведем на экран внешний IP-адрес c помощью команды:

    curl ifconfig.me
 
   Внешний IP-адрес - **178.57.114.5**  
   IP-адрес по умолчанию (gw) - **10.0.2.2**  
   
![route](https://i.ibb.co/BCVLRtD/Part-3-5.jpg)

> DHCP (Dynamic Host Configuration Protocol)
DHCP (протокол динамической конфигурации узла) — это сетевой протокол, используемый для автоматической конфигурации устройств в IP-сетях. С его помощью устройства могут автоматически получать IP-адреса и другую необходимую сетевую информацию (например, адреса шлюзов и DNS-серверов) от DHCP-сервера.
> 
> Основные функции DHCP:
> 
> Автоматическая выдача IP-адресов: DHCP-сервер автоматически выдает
> IP-адреса устройствам, подключающимся к сети, что упрощает процесс их
> настройки. Централизованное управление: Администраторы могут управлять
> IP-адресами и другой сетевой информацией из одного места
> (DHCP-сервер). Уменьшение конфликтов IP-адресов: DHCP предотвращает
> конфликты IP-адресов, выдавая уникальные адреса каждому устройству.
> Обновление конфигурации: DHCP позволяет обновлять конфигурацию сетевых
> параметров без необходимости вручную менять настройки на каждом
> устройстве.

**6.** Для того, чтобы задать статичные адреса нужно поменять содержимое файла:

    vim /etc/netplan/00-installer-config.yaml
    
  ![yaml](https://i.ibb.co/vkZTx2d/Part-3-6.jpg)

**7.** После перезагрузки выполняем еще раз команду:

    ip route

и убеждаемся, что наши заданные IP-адреса сохранились

![ip-route](https://i.ibb.co/5sc7C7n/Part-3-7.jpg)

Чтобы проверить, какой DNS-сервер используется, нужно выполнить команду:

    systemd-resolve --status | grep 'DNS Servers'

![enter image description here](https://i.ibb.co/YN02QjB/Part-3-8.jpg)

А также пропингуем **ya.ru** и **1.1.1.1** и убедимся, что все работает

![1.1.1.1](https://i.ibb.co/P48rybf/Part-3-9.jpg)

![ya.ru](https://i.ibb.co/T2zBYLF/Part-3-10.jpg)

## **Part 4. Обновление ОС**
Выполняем команды:

    sudo apt update
    sudo apt upgrade

![updateupgrade](https://i.ibb.co/XpZh1R9/Part-4.jpg)

## **Part 5. Использование команды **sudo****
Разрешаем пользователю newuser выполнять команды **sudo**

    sudo usermod -aG sudo newuser

![usermod](https://i.ibb.co/56DsMKL/Part-5-1.jpg)

Меняем пользователя и изменяем **hostname**:

    su -newuser
    sudo hostnamectl set-hostname newname

![newname](https://i.ibb.co/XJzJCwx/Part-5-2.jpg)

> Команда sudo позволяет временно выполнять команды с правами суперпользователя, что необходимо для выполнения административных задач без постоянного использования учетной записи root, что повышает безопасность системы.

## **Part 6. Установка и настройка службы времени**

Для вывода времени часового пояса и корректности синхронизации используем команду:

    timedatectl show

![NTPSynch](https://i.ibb.co/xmFttxD/Part-6.jpg)

## **Part 7. Установка и использование текстовых редакторов**

**1.** Для установки текстовых редакторов выполняем команды:

    sudo apt install vim
    sudo apt install nano
    sudo apt install mcedit

**2.** Чтобы выйти из этих программ с сохранением нужно:

**VIM:**

    :wq!

![wq](https://i.ibb.co/1mkt619/123.jpg)

**NANO:**

    control + 'x`, затем `y` и `enter`

![nano](https://i.ibb.co/ZX4gvCn/Part-7-2.jpg)

**MCEDIT:**

    'F2', затем 'F10'

![mcedit](https://i.ibb.co/P1t2pJ1/Part-7-3.jpg)

![files](https://i.ibb.co/JmZsqKy/files.jpg)

**3.** Для выхода без сохранения нужно:

**VIM:**

    :q!
![q!](https://i.ibb.co/8dYXR3x/Part-7-4.jpg)

**NANO:**

    `control + x`, затем `n`

![nano](https://i.ibb.co/jfwmYGq/Part-7-5.jpg)

**MCEDIT:**

    'F10', а затем выбрать 'Нет'

![mcedit](https://i.ibb.co/McYqTvT/Part-7-6.jpg)

**4.** Для поиска и замены слов требуется:

**VIM:**

 Чтобы найти слово **VIM** нужно через слэш '/' набрать искомое слово

![findvim](https://i.ibb.co/5YVgCkq/Part-7-7.jpg)

Для замены слова в **VIM** требуется использовать такую конструкцию:

    %s/frnandg/NEWWORD/g

![replacevim](https://i.ibb.co/RYF9rHq/Part-7-8.jpg)

**NANO:**  
Чтобы найти слово в **NANO** требуется:

    Нажать 'control + w' и ввести искомое слово

![findnano](https://i.ibb.co/pJ9Y722/Part-7-9.jpg)

Для замены слова в **NANO** требуется:

    `control + \`, вводим искомое слово, затем `enter`, вводим замену, `enter` и `y`

![replacenano](https://i.ibb.co/4R9C43K/Part-7-10.jpg)

**MCEDIT:**  
Для того чтобы найти слово в **MCEDIT** нужно:

    Нажать 'F7' и ввести искомое слово

![findmcedit](https://i.ibb.co/7nWnP9z/Part-7-11.jpg)

Для замены слова в **MCEDIT** нужно:

    Нажать 'F4', ввести искомое слово, ввести замену и нажать 'enter'

![replacemcedit](https://i.ibb.co/FkQz9yd/Part-7-12.jpg)

## **Part 8. Установка и базовая настройка сервиса **SSHD****
**1.** Для установки службы **SSHd** выполняем команду:

    sudo apt install openssh-server
    
**2.** Для того, чтобы служба запускалась автоматически при загрузке системы нужно:

    sudo systemctl enable ssh
**3.** Для того, чтобы поменять пор **SSHd** требуется открыть его конфигурационный файл и поменять строчку:
![port](https://i.ibb.co/zmTr9Dj/Part-8-3.jpg)

**4.** Чтобы проверить наличие процесса **SSHd** требуется выполнить команду:

    ps -aux | grep sshd
    
![psaux](https://i.ibb.co/K28b0zb/Part-8-4.jpg)

> -a: показывает процессы всех пользователей.  
-u: отображает процессы запущенные пользователями.  
-x: включает процессы, не имеющие управляющего терминала.  

**5.** Для перезагрузки системы требуется выполнить команду:

    reboot

Вывод команды `netstat -tan:`

![netstat](https://i.ibb.co/NtC4sxC/Part-8-6.jpg)

> -t: отображает все TCP соединения  
> -a: показывают числовые адреса  
> -n: выводит номера портов в числовом формате  
> 
> Proto: tcp — тип протокола TCP.  
> Recv-Q и Send-Q: обычно 0 для слушающих соединений.  
> Local Address: 0.0.0.0:2022 — сервер слушает на всех интерфейсах на порту 2022.  
> Foreign Address: 0.0.0.0:* — соединение еще не установлено или является слушающим.  
> State: LISTEN — сервер находится в состоянии ожидания соединений.

## **Part 9. Установка и использование утилит **top**, **htop****

![top](https://i.ibb.co/qgq9bMN/Part-9-1-1-users.jpg)

Исходя из скриншота определим данные, которые выдает нам утилита **top**:
    -    uptime - **24 min**  
    -   количество авторизованных пользователей - **1**  
    -   общую загрузку системы - **load average: 0,07, 0,02, 0,00**  
    -   общее количество процессов - **93 процесса**  
    -   загрузку cpu - **0.0**  
    -   загрузку памяти - **137.1 / 965.1 MiB**  
    -   pid процесса занимающего больше всего памяти - **systemd, PID 1**  
    -   pid процесса, занимающего больше всего процессорного времени - **systemd, 0:00.59**  

Вывод утилиты **htop**, отсортированный по **PID**:

![pid](https://i.ibb.co/kV738F1/Part-9-1-pid.jpg)

отсортированный по **PERCENT_CPU**:

![cpu](https://i.ibb.co/THNfHLC/Part-9-2-cpu.jpg)

отсортированный по **PERCENT_MEM**:

![mem](https://i.ibb.co/30bXsT6/Part-9-3-mem.jpg)

отсортированный по **TIME**:

![time](https://i.ibb.co/2Z31qjQ/Part-9-4-time.jpg)

отфильтрованному для процесса **sshd**:

![sshd](https://i.ibb.co/cTK82bx/Part-9-5-sshd.jpg)

с процессом **syslog**, найденным, используя поиск:

![syslog](https://i.ibb.co/4JkdSFt/Part-9-6-syslog.jpg)

с добавленным выводом **hostname**, **clock** и **uptime**:

![meters](https://i.ibb.co/BrpRhhb/Part-9-7-metersupcreen.jpg)


## **Part 10. Использование утилиты **fdisk****

![fdisk](https://i.ibb.co/pPNxPWk/Part-10.jpg)

> Название диска - **sda**  
Размер - **10.2 GiB**  
Секторы - **21004192**  

Для того, чтобы узнать размер swap требуется выполнить команду `free -h`  
В моем случае размер **swap = 2.0 GiB**.

## **Part 11. Использование утилиты **df****
**1.** Вывод команды `df /`:

![df/](https://i.ibb.co/SPXKbPy/Part-11-1.jpg)

> Размер корневого раздела - **7 971 232 Кб**  
Занято - **4 336 952 Кб**  
Свободно - **3 634 280 Кб**   
Процент использования - **55 %**  

**2.** Вывод команды `df -Th /`:

![dfTh/](https://i.ibb.co/Y8pS4vR/Part-11-2.jpg)

> Размер корневого раздела - **8.1 Гб**  
Занято - **4.2 Гб**  
Свободно - **3.5 Гб**  
Процент использования - **55 %**  
Тип файловой системы - **ext4**  

## **Part 12. Использование утилиты **du****

Для вывода размера папок в человекочитаемом виде требуется выполнить команду:

    du -h "FOLDERNAME"
где **FOLDERNAME** - имя папки, размер которой нужно узнать  
Для **/home**:

![home](https://i.ibb.co/ChfbL0K/Part-12-1.jpg)

Для **/var**:

![var](https://i.ibb.co/qFWrWFs/Part-12-2.jpg)

Для **/var/log**:

![varlog](https://i.ibb.co/dQsDRZG/Part-12-3.jpg)

Для вывода размера всего содержимого в **/var/log**:

    du -ha /var/log/*

![varlogfull](https://i.ibb.co/v3LWcqj/duha.jpg)

## **Part 13. Установка и использование утилиты **ncdu****

Вывод утилиты **ncdu** для **/home**:

![ncdu](https://i.ibb.co/0BsDkVK/Part-13-1.jpg)

Для **/var**:

![var](https://i.ibb.co/dpxjKwZ/Part-13-2.jpg)

Для **/var/log**:

![varlog](https://i.ibb.co/6ZRbphg/Part-13-3.jpg)


## **Part 14. Работа с системными журналами**
Открытие файлов на чтение производится с помощью команды:

    less "FILENAME"

где "FILENAME" - имя файла, который требуется открыть на чтение

Для того, чтобы найти последнюю успешную авторизацию нужно открыть файл **auth.log** и найти такие строчки:

![login](https://i.ibb.co/99j4Xfx/Part-14-1.jpg)

> Время последней успешной авторизации - **Jul 16 13:43:47**  
> Имя пользователя - **fernandg**  
> Метод входа в систему - **by LOGIN**  

Перезапустим службу **SSHd** и увидим в логах записи о перезапуске службы:

![sshd](https://i.ibb.co/9tDdMgT/Part-14-2.jpg)

## **Part 15. Использование планировщика заданий **CRON****

В конфигурационный файл планировщика **CRON** добавим новую задачу:

> */2 * * * * uptime

где * означают минуты, часы, дни, недели, месяцы.

![crontab](https://i.ibb.co/wYbmxDb/Part-15-2.jpg)

В логах проверим выполнение данной задачи:

![cron](https://i.ibb.co/NCgttB8/Part-15-1.jpg)

Увидим, что `uptime` выполнялся в 13:54:01 и в 13:56:01.
Для того, чтобы удалить текущие задачи требуется выполнить команду:

    crontab -r
Команда `crontab -l` служит для проверки текущих задач.

![crontabr](https://i.ibb.co/51cVdcb/Part-15-3.jpg)

